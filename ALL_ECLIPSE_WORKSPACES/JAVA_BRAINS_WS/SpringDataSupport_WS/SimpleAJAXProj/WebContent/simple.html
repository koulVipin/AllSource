<!DOCTYPE html>
<html>
	<head>
		<meta charset="ISO-8859-1">
		<title>Demo of AJAX</title>
		<script type="text/javascript">
		
			function myFunc() {
				var obj = document.getElementById("input1").value;
				document.getElementById("opID").value = obj;
				
				//var data_file = "http://www.tutorialspoint.com/json/data.json";
				
				var data_file = "http://localhost:8080/SimpleAJAXProj/data.json";
				
				var http_request = new XMLHttpRequest();
	            try{
	               // Opera 8.0+, Firefox, Chrome, Safari
	               http_request = new XMLHttpRequest();
	            }catch (e){
	               // Internet Explorer Browsers
	               try{
	                  http_request = new ActiveXObject("Msxml2.XMLHTTP");
						
	               }catch (e) {
					
	                  try{
	                     http_request = new ActiveXObject("Microsoft.XMLHTTP");
	                  }catch (e){
	                     // Something went wrong
	                     alert("Your browser broke!");
	                     return false;
	                  }
						
	               }
	            }
	            http_request.onreadystatechange = function(){
	                if (http_request.readyState == 4  ){
	                   // Javascript function JSON.parse to parse JSON data
	                   var jsonObj = JSON.parse(http_request.responseText);
	                   
	                   // jsonObj variable now contains the data structure and can
	                   // be accessed as jsonObj.name and jsonObj.country.
	                   
	                   var bigText = jsonObj.name +  " , " +jsonObj.country;
	                   
	                   document.getElementById("opID").innerHTML = bigText;
	                   
	                   //document.getElementById("Country").innerHTML = jsonObj.country;
	                }
	             }
	 			
	             http_request.open("GET", data_file, true);
	             http_request.send();
			}
		</script>	
	</head>
	<body>
		<h1> This is demo of AJAX</h1>
			Enter some text: <input id="input1" type="text" onblur="myFunc();"/>
		<br>
		<br>
			Some AJAX Magic: <textarea id="opID" rows="10" cols="20"></textarea>
		<br>
	</body>
</html>